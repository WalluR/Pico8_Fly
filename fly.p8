pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- tassa ekat koodit

function _init()
 init_game()
end

--for main menu
function init_menu()
 _update = update_menu
 _draw = draw_menu
end


function update_menu()
  init_game()
 end

function draw_menu()
end

--for game
function init_game()
 set_player()
 _update = update_game
 _draw = draw_game
end


function draw_game()
 cls()
 map(0,0,0,0,16,16)
 draw_player()
end

function update_game()
 player_movement()
end

--player code

function draw_player()
 spr(1,player.x,player.y,2,2)
end

function set_player()
 player = {}
 player.x=5*8
 player.y=4*8
 player.dy=0
 player.dx=0
 player.speed=1
 player.acc=0.2
 player.boost=0.5
 player.max_dx=2
 player.max_dy=1
 player.h=8
 player.w=8
 gravity=0.05
 friction=0.8
end

function player_movement()
 player.dy+=gravity
 player.dx*=friction

 if (btn(0)) then player.dx-=player.acc end -- left
 if (btn(1)) then player.dx+=player.acc end -- right
 if (btn(2)) then player.dy-=player.acc end -- up
 if (btn(‚ùé)) then shoot() end --shoot
 --if (btn(3)) then player.dy+=player.acc end -- down
  if player.landed then
   player.dy-= player.boost
  end

  player.dx=mid(-player.max_dx,player.dx,player.max_dx)
     --limit fall speed

  --apply dx and dy to player position
  player.x+=player.dx
  player.y+=player.dy
end

function shoot()
 sfx(0)

end




__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000044000000066777790000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000044000000066777799000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000099000000066777790000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bb0000099000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000030500805012050170501d05021050260502d050340503b0503f0503f0500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
